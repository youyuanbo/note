# 实体之间的关系

## 用数学描述实体之间的关系

1. 1--1

   1.1 强关系

   ​	有A则有B，反之亦然。

   1.2 若关系

   ​	A，B存在没有什么必然联系

2. 1--n

   一个教师可以教授多个学生

3. n--1

   多个学生被一个老师教

4. n--n

   一个学生可以选修多门课，一门课可以被多个学生选修

5. 、

6. 、

## MyBatis处理查询问题

1. 对于简单的单表查询，一般使用resulttype可以解决

2. 对于多表联合查询，需要使用ResultMap进行详细的描述

   实体属性封装一

   ```xml
   <!--封装方式一-->
   <resultMap id="userWithDetailMap" type="com.mybatis03.pojo.UserWithDetail">
       <!--user的基本信息-->
       <id property="uId" column="u_id"/>
       <result property="uName" column="u_name"/>
       <result property="phone" column="phone"/>
       <result property="password" column="password"/>
       <result property="createDate" column="create_date"/>
       <result property="status" column="status"/>
       <!--UserDetail信息-->
       <association property="userDetail" javaType="com.mybatis03.pojo.UserDetail">
           <id property="udId" column="ud_id"/>
           <result property="address" column="address"/>
           <result property="cId" column="c_id"/>
       </association>
   
   </resultMap>
   ```

   ```xml
   <select id="queryByUdId" resultMap="userWithDetailMap">
       select u1.u_id,u1.u_name,u1.phone,u1.password,u1.create_date, u2.ud_id, u2.address, u2.c_id
       from user u1, user_detail u2
       <where>
           u1.u_id = u2.u_id
           and u1.u_id = #{uId}
       </where>
   </select>
   ```



   实体属性封装二

   ```xml
   <!--封装方式二-->
   <resultMap id="userWithDetailMap" type="com.mybatis03.pojo.UserWithDetail">
       <!--user的基本信息-->
       <id property="uId" column="u_id"/>
       <result property="uName" column="u_name"/>
       <result property="phone" column="phone"/>
       <result property="password" column="password"/>
       <result property="createDate" column="create_date"/>
       <result property="status" column="status"/>
       <!--UserDetail信息-->
       <result property="userDetail.uId" column="ud_id"/>
       <result property="userDetail.cId" column="c_id"/>
       <result property="userDetail.address" column="address"/>
   </resultMap>
   ```

   ```xml
   <select id="queryByUdId" resultMap="userWithDetailMap">
       select u1.u_id,u1.u_name,u1.phone,u1.password,u1.create_date, u2.ud_id, u2.address, u2.c_id
       from user u1, user_detail u2
       <where>
           u1.u_id = u2.u_id
           and u1.u_id = #{uId}
       </where>
   </select>
   ```

3. 、

4. 、

5. 、

6. 

